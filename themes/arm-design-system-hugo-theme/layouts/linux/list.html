

{{define "main"}}


{{/*******************************************************
                HUGO VARIABLE INITALIZATION
*******************************************************/}}
<!-- Get all SWs -->

{{/* Get only regular content pages to avoid nil .File */}}
{{ $linuxPages := where .Site.RegularPages "Section" "linux" }}

{{ $opensource_all := where $linuxPages "File.Dir" "linux/opensource_packages/" }}
{{ $commercial_all := where $linuxPages "File.Dir" "linux/commercial_packages/" }}

{{ $packages_opensource := where $opensource_all "Params.works_on_arm" true }}
{{ $packages_commercial := where $commercial_all "Params.works_on_arm" true }}

{{ $packages_all := $packages_opensource | union $packages_commercial }}
{{ $packages_alphabetical_order := sort $packages_all ".Params.name" }}


{{partial "main-page/main.html" 
    (dict "context" . 
          "packages_alphabetical_order" $packages_alphabetical_order 
          "OS" "Linux") 
}}


{{ end }}